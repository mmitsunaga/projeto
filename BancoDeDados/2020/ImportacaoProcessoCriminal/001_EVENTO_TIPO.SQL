CREATE TABLE PROJUDI.EVENTO_TIPO
(	
   ID_EVENTO_TIPO          NUMBER(10,0)   NOT NULL, 
   EVENTO_TIPO             VARCHAR2(255)  NOT NULL,
   CODIGO_TEMP             NUMBER(10,0)    
);

CREATE UNIQUE INDEX PROJUDI.EVENTO_TIPO_IDX1 ON PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO);

ALTER TABLE PROJUDI.EVENTO_TIPO ADD CONSTRAINT PK_EVENTO_TIPO PRIMARY KEY(ID_EVENTO_TIPO);

CREATE SEQUENCE  PROJUDI.EVENTO_TIPO_ID_SEQ  MINVALUE 1 MAXVALUE 9999999999999999999999 INCREMENT BY 1 START WITH 16 NOCACHE  NOORDER  NOCYCLE;

CREATE OR REPLACE TRIGGER PROJUDI.EVENTO_TIPO_ID_TRG BEFORE INSERT OR UPDATE ON EVENTO_TIPO
FOR EACH ROW
DECLARE
v_newVal NUMBER(12) := 0;
v_incval NUMBER(12) := 0;
BEGIN
  IF INSERTING AND :new.ID_EVENTO_TIPO IS NULL THEN
    SELECT EVENTO_TIPO_ID_SEQ.NEXTVAL INTO v_newVal FROM DUAL;
   
   :new.ID_EVENTO_TIPO := v_newVal;
  END IF;
END;

ALTER TRIGGER PROJUDI.EVENTO_TIPO_ID_TRG ENABLE;

CREATE OR REPLACE FORCE VIEW PROJUDI.VIEW_EVENTO_TIPO AS 
  SELECT
    E.ID_EVENTO_TIPO AS ID_EVENTO_TIPO,
    E.EVENTO_TIPO AS EVENTO_TIPO,    
	E.CODIGO_TEMP AS CODIGO_TEMP
  FROM 
    PROJUDI.EVENTO_TIPO E;
	
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (1, 'prisão', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (2, 'relaxamento', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (3, 'liberdade provisória', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (4, 'fuga', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (5, 'HC', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (6, 'revogação', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (7, 'transação', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (8, 'suspensão', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (9, 'arquivamento', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (10, 'absolutória', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (11, 'condenatória', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (12, 'morte agente', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (13, 'cumprimento', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (14, 'prorrogação', NULL);
INSERT INTO PROJUDI.EVENTO_TIPO (ID_EVENTO_TIPO, EVENTO_TIPO, CODIGO_TEMP) VALUES (15, 'progressão', NULL);
	
