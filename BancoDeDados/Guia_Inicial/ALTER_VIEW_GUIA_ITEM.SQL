CREATE OR REPLACE FORCE VIEW PROJUDI.VIEW_GUIA_ITEM AS 
  SELECT
    GI.ID_GUIA_ITEM AS ID_GUIA_ITEM,
    GI.GUIA_ITEM AS GUIA_ITEM,
    GI.ID_GUIA_EMIS AS ID_GUIA_EMIS,
    GI.ID_CUSTA AS ID_CUSTA,
    GI.ID_ARRECADACAO_CUSTA_GENERICA AS ID_ARRECADACAO_CUSTA_GENERICA,
    GI.GUIA_ITEM_CODIGO AS GUIA_ITEM_CODIGO,
    GI.QUANTIDADE AS QUANTIDADE,
    GI.VALOR_CALCULADO AS VALOR_CALCULADO,
    GI.VALOR_REFERENCIA AS VALOR_REFERENCIA,
    GI.PARCELAS AS PARCELAS,
    GI.PARCELA_CORRENTE AS PARCELA_CORRENTE,
    GI.CODIGO_TEMP AS CODIGO_TEMP,
    GI.CODIGO_OFICIAL AS CODIGO_OFICIAL,  
    GI.ID_GUIA_ITEM_VINCULADO AS ID_GUIA_ITEM_VINCULADO,
    GI.VALOR_CALCULADO_ORIGINAL AS VALOR_CALCULADO_ORIGINAL, 
    CUSTA.CUSTA AS CUSTA,
    CUSTA.CODIGO_REGIMENTO AS CODIGO_REGIMENTO,
    CUSTA.REFERENCIA_CALCULO AS REFERENCIA_CALCULO,
    CUSTA.ID_ARRECADACAO_CUSTA AS ID_ARRECADACAO_CUSTA,      
    VUS.ARRECADACAO_CUSTA AS ARRECADACAO_CUSTA,
    VUS.CODIGO_ARRECADACAO AS CODIGO_ARRECADACAO,
    GE.ID_PROC AS ID_PROC,
    GE.ID_PROC_TIPO AS ID_PROC_TIPO,
    GE.ID_SERV AS ID_SERV,
    GE.ID_COMARCA AS ID_COMARCA,
    GE.ID_GUIA_STATUS AS ID_GUIA_STATUS,
    GE.DATA_RECEBIMENTO AS DATA_RECEBIMENTO,
    GE.DATA_EMIS AS DATA_EMIS,
    GE.DATA_VENCIMENTO AS DATA_VENCIMENTO,
    GE.NUMERO_GUIA_COMPLETO AS NUMERO_GUIA_COMPLETO,
    GE.ID_GUIA_MODELO AS ID_GUIA_MODELO,
	GE.ID_NATUREZA_SPG AS ID_NATUREZA_SPG,
    GIV.ID_GUIA_ITEM AS ID_GUIA_ITEMV,
    GIV.GUIA_ITEM AS GUIA_ITEMV,
    GIV.ID_GUIA_EMIS AS ID_GUIA_EMISV,
    GIV.ID_CUSTA AS ID_CUSTAV,
    GIV.ID_ARRECADACAO_CUSTA_GENERICA AS ID_ARRECADACAO_CUSTA_GENERICAV,
    GIV.GUIA_ITEM_CODIGO AS GUIA_ITEM_CODIGOV,
    GIV.QUANTIDADE AS QUANTIDADEV,
    GIV.VALOR_CALCULADO AS VALOR_CALCULADOV,
    GIV.VALOR_REFERENCIA AS VALOR_REFERENCIAV,
    GIV.PARCELAS AS PARCELASV,
    GIV.PARCELA_CORRENTE AS PARCELA_CORRENTEV,
    GIV.CODIGO_TEMP AS CODIGO_TEMPV,
    GIV.CODIGO_OFICIAL AS CODIGO_OFICIALV,  
    GIV.ID_GUIA_ITEM_VINCULADO AS ID_GUIA_ITEM_VINCULADOV,
    GIV.VALOR_CALCULADO_ORIGINAL AS VALOR_CALCULADO_ORIGINALV, 	
    CUSTAV.CUSTA AS CUSTAV,
    CUSTAV.CODIGO_REGIMENTO AS CODIGO_REGIMENTOV,
    CUSTAV.REFERENCIA_CALCULO AS REFERENCIA_CALCULOV,
    CUSTAV.ID_ARRECADACAO_CUSTA AS ID_ARRECADACAO_CUSTAV,      
    VUSV.ARRECADACAO_CUSTA AS ARRECADACAO_CUSTAV,
    VUSV.CODIGO_ARRECADACAO AS CODIGO_ARRECADACAOV
  FROM GUIA_ITEM GI LEFT JOIN GUIA_EMIS GE ON GI.ID_GUIA_EMIS = GE.ID_GUIA_EMIS
       JOIN CUSTA CUSTA ON GI.ID_CUSTA = CUSTA.ID_CUSTA
       JOIN ARRECADACAO_CUSTA VUS ON CUSTA.ID_ARRECADACAO_CUSTA = VUS.ID_ARRECADACAO_CUSTA
       LEFT JOIN GUIA_ITEM GIV ON GIV.ID_GUIA_ITEM = GI.ID_GUIA_ITEM_VINCULADO
       LEFT JOIN CUSTA CUSTAV ON GIV.ID_CUSTA = CUSTAV.ID_CUSTA
       LEFT JOIN ARRECADACAO_CUSTA VUSV ON CUSTAV.ID_ARRECADACAO_CUSTA = VUSV.ID_ARRECADACAO_CUSTA;