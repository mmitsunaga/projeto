ALTER TABLE PROJUDI.GUIA_EMIS ADD GUIA_COMPLEMENTAR NUMBER(3) NULL;

CREATE OR REPLACE FORCE VIEW VIEW_GUIA_EMIS AS
  SELECT
  GE.ID_GUIA_EMIS AS ID_GUIA_EMIS,
  GE.GUIA_EMIS AS GUIA_EMIS,
  GE.GUIA_EMIS_CODIGO AS GUIA_EMIS_CODIGO,
  GE.ID_GUIA_MODELO AS ID_GUIA_MODELO,
  GE.ID_GUIA_FINALIDADE_MODELO AS ID_GUIA_FINALIDADE_MODELO,
  GE.ID_GUIA_TIPO AS ID_GUIA_TIPO_TITULO,
  T.GUIA_MODELO AS GUIA_MODELO,
  GE.ID_PROC AS ID_PROC,
  P.PROC_NUMERO AS PROC_NUMERO,
  GE.NUMERO_PROC_DEPENDENTE AS NUMERO_PROC_DEPENDENTE,
  T.ID_PROC_TIPO AS ID_PROC_TIPO,
  PT.PROC_TIPO AS PROC_TIPO,
  GE.ID_GUIA_EMIS_PRINC AS ID_GUIA_EMIS_PRINC,
  GE.ID_SERV AS ID_SERV,
  S.SERV AS SERV,
  GE.ID_COMARCA AS ID_COMARCA,
  C.COMARCA AS COMARCA,
  GT.ID_GUIA_TIPO AS ID_GUIA_TIPO,
  GT.GUIA_TIPO AS GUIA_TIPO,
  GE.ID_GUIA_STATUS AS ID_GUIA_STATUS,
  GS.GUIA_STATUS AS GUIA_STATUS,
  GE.ID_AREA_DIST AS ID_AREA_DIST,
  GE.ID_PROC_PRIOR AS ID_PROC_PRIOR,
  GE.ID_USU AS ID_USU,
  GE.DATA_EMIS AS DATA_EMIS,
  GE.DATA_RECEBIMENTO AS DATA_RECEBIMENTO,
  GE.DATA_VENCIMENTO AS DATA_VENCIMENTO,
  GE.DATA_CANCELAMENTO AS DATA_CANCELAMENTO,
  GE.DATA_BASE_ATUALIZACAO AS DATA_BASE_ATUALIZACAO,
  GE.DATA_BASE_FINAL_ATUALIZACAO AS DATA_BASE_FINAL_ATUALIZACAO,
  GE.REQUERENTE AS REQUERENTE,
  GE.REQUERIDO AS REQUERIDO,
  GE.OUTRAS_PARTES AS OUTRAS_PARTES,
  GE.ADVOGADO AS ADVOGADO,
  GE.ASSUNTOS AS ASSUNTOS,
  GE.VALOR_ACAO AS VALOR_ACAO,
  GE.FLAG_DONO AS FLAG_DONO,
  GE.NUMERO_GUIA_COMPLETO AS NUMERO_GUIA_COMPLETO,
  GE.NUMERO_DUAM AS NUMERO_DUAM,
  GE.QUANTIDADE_PARCELAS_DUAM AS QUANTIDADE_PARCELAS_DUAM,
  GE.DATA_VENCIMENTO_DUAM AS DATA_VENCIMENTO_DUAM,
  GE.VALOR_IMPOSTO_MUNICIPAL_DUAM AS VALOR_IMPOSTO_MUNICIPAL_DUAM,
  GE.CODIGO_TEMP AS CODIGO_TEMP,
  GE.ID_PROC_PARTE_RECORRENTE AS ID_PROC_PARTE_RECORRENTE,
  GE.ID_PROC_PARTE_RECORRIDO AS ID_PROC_PARTE_RECORRIDO,
  GE.PROC_PARTE_TIPO_CODIGO AS PROC_PARTE_TIPO_CODIGO,
  GE.ID_PROC_PARTE_RESP_GUIA AS ID_PROC_PARTE_RESP_GUIA,
  GE.RATEIO_CODIGO AS RATEIO_CODIGO,
  GE.CODIGO_NATUREZA AS CODIGO_NATUREZA,
  GE.VALOR_RECEBIMENTO AS VALOR_RECEBIMENTO,
  GE.DATA_MOVIMENTO AS DATA_MOVIMENTO,
  GE.DATA_REPASSE AS DATA_REPASSE,
  GE.GUIA_COMPLEMENTAR AS GUIA_COMPLEMENTAR
FROM
  ((((((((GUIA_EMIS GE LEFT JOIN GUIA_MODELO T ON((GE.ID_GUIA_MODELO = T.ID_GUIA_MODELO))) 
  LEFT JOIN GUIA_FINALIDADE_MODELO TF ON((GE.ID_GUIA_FINALIDADE_MODELO = TF.ID_GUIA_FINALIDADE_MODELO)))
  LEFT JOIN PROC P ON((GE.ID_PROC = P.ID_PROC))) 
  LEFT JOIN PROC_TIPO PT ON((T.ID_PROC_TIPO = PT.ID_PROC_TIPO))) 
  LEFT JOIN SERV S ON((GE.ID_SERV = S.ID_SERV)))
  LEFT JOIN COMARCA C ON((GE.ID_COMARCA = C.ID_COMARCA))) 
  LEFT JOIN GUIA_TIPO GT ON((T.ID_GUIA_TIPO = GT.ID_GUIA_TIPO OR TF.ID_GUIA_TIPO = GT.ID_GUIA_TIPO))) 
  LEFT JOIN GUIA_STATUS GS ON((GE.ID_GUIA_STATUS = GS.ID_GUIA_STATUS)));
  
  