SELECT MAX(ID_UFR_VALOR) FROM PROJUDI.UFR_VALOR

CREATE SEQUENCE  PROJUDI.UFR_VALOR_ID_UFR_VALOR_SEQ  MINVALUE 1 MAXVALUE 9999999999999999999999 INCREMENT BY 1 START WITH 1 NOCACHE  NOORDER  NOCYCLE ;

CREATE OR REPLACE TRIGGER PROJUDI.UFR_VALOR_ID_UFR_VALOR_TRG BEFORE INSERT OR UPDATE ON UFR_VALOR
FOR EACH ROW
DECLARE
v_newVal NUMBER := 0;
v_incval NUMBER := 0;
BEGIN
  IF INSERTING AND :new.ID_UFR_VALOR IS NULL THEN
    SELECT UFR_VALOR_ID_UFR_VALOR_SEQ.NEXTVAL INTO v_newVal FROM DUAL;
   
   :new.ID_UFR_VALOR := v_newVal;
  END IF;
END;

ALTER TRIGGER PROJUDI.UFR_VALOR_ID_UFR_VALOR_TRG ENABLE;

CREATE OR REPLACE FORCE VIEW PROJUDI.VIEW_UFR_VALOR AS 
  SELECT
    U.ID_UFR_VALOR AS ID_UFR_VALOR,
    U.VALOR AS VALOR,
    U.VALOR_TAXA_JUDICIARIA AS VALOR_TAXA_JUDICIARIA,
    U.MES_INICIO AS MES_INICIO,
    U.MES_FINAL AS MES_FINAL,
    U.DATA_ATUALIZACAO AS DATA_ATUALIZACAO,
    U.CODIGO_TEMP AS CODIGO_TEMP
  FROM 
    UFR_VALOR U;